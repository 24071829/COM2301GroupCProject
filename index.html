<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>School Lost & Found System (Offline)</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
<div class="container">

    <div class="header">
        <h1>üè´ School Lost & Found</h1>
        <p id="motto">Report, search, and reclaim items easily</p>
    </div>

    <div id="authCard" class="card">
        <div class="nav-tabs" style="margin-bottom:12px">
            <button class="nav-tab active" onclick="showAuthTab(event,'login')">Login</button>
            <button class="nav-tab" onclick="showAuthTab(event,'register')">Register</button>
        </div>

        <div id="loginTab">
            <div class="login-container">
                <div class="login-logo">
                    <img src="asserts/logo.png" alt="System Logo">
                </div>
                <div class="login-form-fields">
                    <form id="loginForm">
                        <div class="form-group">
                            <label>Email or ID</label>
                            <div class="input-with-icon">
                                <span class="input-icon"><i class="fas fa-user"></i></span>
                                <input id="loginEmailTextfield" type="text" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Password</label>
                            <div class="input-with-icon">
                                <span class="input-icon"><i class="fas fa-lock"></i></span>
                                <input id="loginPasswordTextfield" type="password" required>
                            </div>
                        </div>
                        <div class="flex"><button class="btn" type="submit">Login</button></div>
                    </form>
                </div>
            </div>
        </div>

        <div id="registerTab" class="hidden">
            <img src="asserts/sigh in.png" alt="Sign In Icon" class="register-icon">
            <form id="registerForm">
                <div class="form-group">
                    <label>Full name</label>
                    <div class="input-with-icon">
                        <span class="input-icon"><i class="fas fa-user"></i></span>
                        <input id="regName" type="text" required>
                    </div>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <div class="input-with-icon">
                        <span class="input-icon"><i class="fas fa-envelope"></i></span>
                        <input id="regEmail" type="email" required>
                    </div>
                </div>
                <div class="form-group">
                    <label>Student/Staff ID</label>
                    <div class="input-with-icon">
                        <span class="input-icon"><i class="fas fa-id-card"></i></span>
                        <input id="regId" type="text" required>
                    </div>
                </div>
                <div class="form-group">
                    <label>Role</label>
                    <div class="input-with-icon">
                        <span class="input-icon"><i class="fas fa-user-tag"></i></span>
                        <select id="regRole" required>
                            <option value="">Select role</option>
                            <option value="student">Student</option>
                            <option value="staff">Staff</option>
                            <option value="admin">Admin</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <div class="input-with-icon">
                        <span class="input-icon"><i class="fas fa-lock"></i></span>
                        <input id="regPassword" type="password" required>
                    </div>
                </div>
                <div class="flex" style="justify-content: center;"><button class="btn" type="submit">Register</button></div>
            </form>
        </div>
    </div>

    <div id="appCard" class="hidden">
        <div id="topNav">
            <span id="menuIcon">‚ò∞</span>
            <div>
                <strong>Welcome, <span id="currentUserName"></span></strong>
                <div class="small" id="currentUserRole"></div>
            </div>
            <button class="btn-secondary" onclick="logout()">Logout</button>
        </div>

        <div id="sidebar">
            <div id="closeSidebar">√ó</div>
            <a href="#" class="sidebar-link" onclick="showDashboard()">Dashboard</a>
            <a href="#" class="sidebar-link">Profile</a>
            <a href="#" class="sidebar-link">Settings</a>
            <a href="#" class="sidebar-link">Help</a>
        </div>

        <div id="dashboardGrid">
            <div class="dashboard-item" style="background-image: url('asserts/found.png');" onclick="showTabContent('browse')">
                <div class="btn">Browse Items</div>
            </div>
            <div class="dashboard-item" style="background-image: url('asserts/report.png');" onclick="showTabContent('reportLost')">
                <div class="btn">Report Lost</div>
            </div>
            <div class="dashboard-item" style="background-image: url('asserts/found.png');" onclick="showTabContent('reportFound')">
                <div class="btn">Report Found</div>
            </div>
            <div class="dashboard-item" style="background-image: url('asserts/sigh in.png');" onclick="showTabContent('myReports')">
                <div class="btn">My Reports</div>
            </div>
            <div class="dashboard-item" style="background-image: url('asserts/notification.png');" onclick="showTabContent('notifications')">
                <div class="btn">Notifications <span id="notifyBadge" class="notify-badge hidden">0</span></div>
            </div>
        </div>

        <div id="mainContentArea" class="hidden">
            <button class="btn-secondary" style="margin-bottom: 15px;" onclick="showDashboard()">‚Üê Back to Dashboard</button>

            <div id="browseTab" class="tab-content hidden">
                <div style="display:flex;gap:8px;align-items:center;margin-bottom:10px">
                    <input id="searchInput" type="text" placeholder="Search by name or location..." style="flex:1;padding:8px;border-radius:8px;border:1px solid #dbeafe" oninput="renderBrowse()" />
                    <select id="statusFilter" style="padding:8px;border-radius:8px;border:1px solid #dbeafe" onchange="renderBrowse()">
                        <option value="">All</option>
                        <option value="lost">Lost</option>
                        <option value="found">Found</option>
                        <option value="claimed">Claimed</option>
                    </select>
                    <button class="btn" onclick="renderBrowse()">Refresh</button>
                </div>
                <div id="itemsContainer" class="items-grid"></div>
            </div>

            <div id="reportLostTab" class="tab-content hidden">
                <form id="lostForm">
                    <div class="form-group">
                        <label>Item name</label>
                        <div class="input-with-icon">
                            <span class="input-icon"><i class="fas fa-tag"></i></span>
                            <input id="lost_name" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Location</label>
                        <div class="input-with-icon">
                            <span class="input-icon"><i class="fas fa-map-marker-alt"></i></span>
                            <input id="lost_location" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <textarea id="lost_description"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Date lost</label>
                        <div class="input-with-icon">
                            <span class="input-icon"><i class="fas fa-calendar"></i></span>
                            <input id="lost_date" type="date" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Item Image</label>
                        <div class="image-upload-container">
                            <input type="file" id="lost_image" accept="image/*" style="display: none;">
                            <label for="lost_image" class="upload-btn">
                                <i class="fas fa-upload"></i> Choose Image
                            </label>
                            <img id="lost_image_preview" class="image-preview" alt="Image preview">
                        </div>
                    </div>
                    <div class="flex"><button class="btn" type="submit">Report Lost Item</button></div>
                </form>
            </div>

            <div id="reportFoundTab" class="tab-content hidden">
                <form id="foundForm">
                    <div class="form-group">
                        <label>Item name</label>
                        <div class="input-with-icon">
                            <span class="input-icon"><i class="fas fa-tag"></i></span>
                            <input id="found_name" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Location</label>
                        <div class="input-with-icon">
                            <span class="input-icon"><i class="fas fa-map-marker-alt"></i></span>
                            <input id="found_location" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <textarea id="found_description"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Date found</label>
                        <div class="input-with-icon">
                            <span class="input-icon"><i class="fas fa-calendar"></i></span>
                            <input id="found_date" type="date" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Item Image</label>
                        <div class="image-upload-container">
                            <input type="file" id="found_image" accept="image/*" style="display: none;">
                            <label for="found_image" class="upload-btn">
                                <i class="fas fa-upload"></i> Choose Image
                            </label>
                            <img id="found_image_preview" class="image-preview" alt="Image preview">
                        </div>
                    </div>
                    <div class="flex"><button class="btn" type="submit">Report Found Item</button></div>
                </form>
            </div>

            <div id="myReportsTab" class="tab-content hidden">
                <h3>Your Reports</h3>
                <div id="myReportsContainer" class="items-grid"></div>
            </div>

            <div id="notificationsTab" class="tab-content hidden">
                <h3>Notifications (possible matches)</h3>
                <div id="notificationsContainer"></div>
            </div>
        </div>
    </div>
</div>

<script src="script.js" defer></script>
</body>
</html>